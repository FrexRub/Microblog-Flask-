# Сервис микроблогов
### Реализация бэкенда сервиса микроблогов (мини-клон сервиса Twitter)*
###### * Функционал фронтенда сильно урезан

Проект построен на базе Flask c использование SQLAlchemy(flask_sqlalchemy) (в качестве базы данных используется PostgreSQL).

В  проекте реализован функционал:

* добавление нового твита
* удаление пользователем своего твита
* возможность подписаться (зафоловить) на другого пользователя
* возможность отписаться от другого пользователя
* отметить понравившийся твит как "Нравится"
* снять с твита отметку "Нравится" 

## Запуск проекта

Для развертывания проекта используется `Docker Compose`.

Чтобы запустить проект используем команду:
```
docker compose up -d
```

При первом запуске проекта создается база данных. 
Для подключения к ней необходимо перезапустить контейнер с приложением `mblog-web`:
```
docker restart mblog-web
```
Стартовая страница проекта [http://0.0.0.0](http://0.0.0.0) или ([http://localhost](http://localhost)).

![Стартовая страница проекта](readmy/image_1.jpg)

## Функционал
### Смена пользователя

![смена пользователя](readmy/image_2.jpg)
Для смены пользователя в текущем профиле пользователя (нижний левый угол экрана) выбирается пункт **"Выйти из учетной записи ..."** (п.1)

В появившемся в правом верхнем углу экрана окне (п.2) набираем api-key ключ нужного пользователя.

В сервисе зарегистрировано 4 пользователя с api-key ключами: test, test1, test2, test3.

### Добавление твита

![добавление твита](readmy/image_3.jpg)

Набираем текст (п.1), при желании добавляем картинку (п.2) и нажимаем "Твитнуть" (п.3).

### Удаление твита
![удаление твита](readmy/image_4.jpg)

В правом верхнем углу твита выбираем ... и нажимаем **Удалить**.

*Удалить можно только свой твит*

### Лайкнуть (отметить понравившийся твит)
![лайк твита](readmy/image_5.jpg)

Кликнув мышкой по сердечку под твитом можно отметить или снять отметку "Нравится".

### Подписаться на (отписаться от) пользователя
![подписка](readmy/image_6.jpg)

Кликнув мышкой по аватарке пользователя в ленте твитов
попадаем на страничку данного пользователя.
Выбрав меню "Читать" мы становимся его читателями (оформляем подписку).

![отписка](readmy/image_7.jpg)

Или выбрав меню "Перестать читать" мы от пользователя отписываемся.

## Документация проекта

Документация подготовлена в формате OpenAPI c использованием flasgger (Swagger)

Документацию можно посмотреть по адресу [http://0.0.0.0/api/docs](http://0.0.0.0/api/docs)
или [http://0.0.0.0/api/redoc](http://0.0.0.0/api/redoc)

## Тестирование проекта

Для тестирования проекта нужно перейти в каталог `test`

```
cd test
```

Запустить контейнер с тестовой базой данных

```
docker compose up -d
```
и запустить тесты:

```
pytest -v
```

## Licence

Author: Stanislav Rubtsov

